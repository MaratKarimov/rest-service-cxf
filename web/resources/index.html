<!DOCTYPE html>
<html>
<body>

<div id="main">
    <h3>Test</h3>

    <div>
        <b>Get all messages:</b>
        <button type="button" onclick="getAll()">Get messages</button>
    </div>
    <br>
    <br>
    <b>Get message by id:</b>

    <div style="display: inline-block">
        Id:<input id="message_id" type="text" size="5"/>
        <button type="button" onclick="getOne()">Get message by id</button>
    </div>
    <br>
    <br>
    <b>Post message with text:</b>

    <div style="display: inline-block">
        Message: <input id="message_text" type="text" size="20"/>
        <button type="button" onclick="postOne()">Save message</button>
    </div>
</div>
<br>
<hr>
<h3>Result:</h3>

<div id="demo">

</div>

<script>
    function getAll() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("demo").innerHTML =
                        this.responseText;
            }
        };
        xhttp.open("GET", 'http://localhost:8082/message', true);
        xhttp.send();
    }
    function getOne() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("demo").innerHTML =
                        this.responseText;
            }
        };
        xhttp.open("GET", 'http://localhost:8082/message/' + document.getElementById("message_id").value, true);
        xhttp.send();
    }
    function postOne() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("demo").innerHTML =
                        this.responseText;
            }
        };
        var data = JSON.stringify({"id": null, "message": document.getElementById("message_text").value});
        xhttp.open("POST", 'http://localhost:8082/message', true);
        xhttp.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
        xhttp.send(data);
    }
</script>

</body>
</html>